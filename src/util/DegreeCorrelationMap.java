package util;import java.util.SortedMap;import java.util.TreeMap;import basic.preparation.*;/** * æ¬¡æ•°ç›¸é–¢åˆ?¸?‚’è¡¨ã™ã‚¯ãƒ©ã‚¹<br> *  * @author ishida *  */public class DegreeCorrelationMap {	/**	 * æ¬¡æ•°ç›¸é–¢åˆ?¸??å…?¨ãªã‚‹Network	 */	private final Network network;	/**	 * æ¬¡æ•°ç›¸é–¢åˆ?¸?‚’è¡¨ã™ã?ãƒ??<æ¬¡æ•°ã€å¹³å?¬¡æ•°>	 */	private final SortedMap<Integer, Double> degreeCorrelationMap = new TreeMap<Integer, Double>();	/**	 * ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿	 * 	 * @param world	 */	public DegreeCorrelationMap(Network network) {		this.network = network;		makeDegreeCorrelationMap();	}	/**	 * Networkã‚’å?ã«æ¬¡æ•°ç›¸é–¢åˆ?¸??ãƒ??ã‚’ä½œæ?	 */	private void makeDegreeCorrelationMap() {		DegreeDistributionMap degreeMap = new DegreeDistributionMap(network);		for (int i = 1; i < network.getNodeSet().size(); i++) {			if (degreeMap.containsKey(i)) {				int kDegreeNodeNum = 0;				int neighborDegreeSum = 0;				double neighborDegreeAverageSum = 0;				for (Node node : network.getNodeSet()) {					if (node.getLinkSet().size() == i) {						kDegreeNodeNum++;						for (Node linkedNode : node.getLinkedNodeSet()) {							neighborDegreeSum += linkedNode.getLinkSet().size();						}					}				}				neighborDegreeAverageSum = (double) neighborDegreeSum / (double) i;				degreeCorrelationMap.put(i, neighborDegreeAverageSum / kDegreeNodeNum);			}		}	}	@Override	public String toString() {		StringBuilder sb = new StringBuilder();		for (int i = 0; i <= degreeCorrelationMap.lastKey(); i++) {			if (degreeCorrelationMap.containsKey(i)) {				sb.append(i + "," + degreeCorrelationMap.get(i) + "\n");			}		}		return sb.toString();	}}